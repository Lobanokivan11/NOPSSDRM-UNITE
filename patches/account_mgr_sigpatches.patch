diff -crB psm_original/smali/com/sony/snei/np/android/account/j.smali psm_patch/smali/com/sony/snei/np/android/account/j.smali
*** psm_original/smali/com/sony/snei/np/android/account/j.smali	2025-04-08 07:13:27.163675000 +1200
--- psm_patch/smali/com/sony/snei/np/android/account/j.smali	2025-04-08 08:11:54.301345600 +1200
***************
*** 1114,1190 ****
  
  .method private b(Landroid/content/pm/PackageManager;I)Z
      .locals 5
! 
!     const/4 v2, 0x0
! 
!     invoke-static {p1, p2}, Lcom/sony/snei/np/android/account/j;->a(Landroid/content/pm/PackageManager;I)Ljava/util/ArrayList;
! 
!     move-result-object v0
! 
!     if-nez v0, :cond_0
! 
!     move v0, v2
! 
!     :goto_0
!     return v0
! 
!     :cond_0
!     invoke-virtual {v0}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;
! 
!     move-result-object v3
! 
!     :cond_1
!     invoke-interface {v3}, Ljava/util/Iterator;->hasNext()Z
! 
!     move-result v0
! 
!     if-eqz v0, :cond_3
! 
!     invoke-interface {v3}, Ljava/util/Iterator;->next()Ljava/lang/Object;
! 
!     move-result-object v0
! 
!     move-object v1, v0
! 
!     check-cast v1, Landroid/content/pm/Signature;
! 
!     if-eqz v1, :cond_1
! 
!     iget-object v0, p0, Lcom/sony/snei/np/android/account/j;->a:Ljava/util/concurrent/CopyOnWriteArrayList;
! 
!     invoke-virtual {v0}, Ljava/util/concurrent/CopyOnWriteArrayList;->iterator()Ljava/util/Iterator;
! 
!     move-result-object v4
! 
!     :cond_2
!     invoke-interface {v4}, Ljava/util/Iterator;->hasNext()Z
! 
!     move-result v0
! 
!     if-eqz v0, :cond_1
! 
!     invoke-interface {v4}, Ljava/util/Iterator;->next()Ljava/lang/Object;
! 
!     move-result-object v0
! 
!     check-cast v0, Landroid/content/pm/Signature;
! 
!     if-eqz v0, :cond_2
! 
!     invoke-virtual {v0, v1}, Landroid/content/pm/Signature;->equals(Ljava/lang/Object;)Z
! 
!     move-result v0
! 
!     if-eqz v0, :cond_2
! 
      const/4 v0, 0x1
  
-     goto :goto_0
- 
-     :cond_3
-     move v0, v2
- 
-     goto :goto_0
  .end method
  
  
--- 1114,1124 ----
  
  .method private b(Landroid/content/pm/PackageManager;I)Z
      .locals 5
!     
!     # force signature check pass
      const/4 v0, 0x1
+     return v0
  
  .end method
  
  
***************
*** 1192,1257 ****
  .method public final a()Z
      .locals 4
  
      const/4 v0, 0x0
- 
-     iget-object v1, p0, Lcom/sony/snei/np/android/account/j;->b:Landroid/content/Context;
- 
-     if-nez v1, :cond_0
- 
-     new-instance v0, Ljava/lang/IllegalArgumentException;
- 
-     invoke-direct {v0}, Ljava/lang/IllegalArgumentException;-><init>()V
- 
-     throw v0
- 
-     :cond_0
-     iget-object v1, p0, Lcom/sony/snei/np/android/account/j;->b:Landroid/content/Context;
- 
-     invoke-virtual {v1}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
- 
-     move-result-object v1
- 
-     if-nez v1, :cond_1
- 
-     new-instance v0, Ljava/lang/IllegalStateException;
- 
-     invoke-direct {v0}, Ljava/lang/IllegalStateException;-><init>()V
- 
-     throw v0
- 
-     :cond_1
-     :try_start_0
-     const-string v2, "com.sony.snei.np.android.account"
- 
-     const/16 v3, 0x80
- 
-     invoke-virtual {v1, v2, v3}, Landroid/content/pm/PackageManager;->getApplicationInfo(Ljava/lang/String;I)Landroid/content/pm/ApplicationInfo;
-     :try_end_0
-     .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_0 .. :try_end_0} :catch_0
- 
-     move-result-object v2
- 
-     if-nez v2, :cond_3
- 
-     :cond_2
-     :goto_0
      return v0
  
-     :catch_0
-     move-exception v0
- 
-     throw v0
- 
-     :cond_3
-     iget v2, v2, Landroid/content/pm/ApplicationInfo;->uid:I
- 
-     invoke-direct {p0, v1, v2}, Lcom/sony/snei/np/android/account/j;->b(Landroid/content/pm/PackageManager;I)Z
- 
-     move-result v1
- 
-     if-eqz v1, :cond_2
- 
-     const/4 v0, 0x1
- 
-     goto :goto_0
  .end method
--- 1126,1133 ----
  .method public final a()Z
      .locals 4
  
+     # force account manager to be seen as not installed.
      const/4 v0, 0x0
      return v0
  
  .end method
